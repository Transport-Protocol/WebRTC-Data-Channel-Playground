<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>WebRTC Testsuite </title>
		<meta name="keywords" content="WebRTC, DataChannel, testharness, W3C, SCTP, HTML5, JavaScript" />
		<meta name="description" content="Testing  WebRTC - DataChannel in different browser! Chrome, Firefox and Opera!">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Peter">
		<link href="lib/style/default.css" type="text/css" rel="stylesheet"/>
		<link href="resources/testharness.css" type="text/css" rel="stylesheet"/>
		<link rel="shortcut icon" href="pics/favicon.png">
	</head>
	<body>
		<header>
			<h1>WebRTC-DataChannel Conformance Tests</h1>
			<label for="show-menu" class="show-menu">Show Menu</label>
			<input type="checkbox" id="show-menu" role="button">
			<nav>
				<ul >
					<li>
						<a href="index.html">Home</a>
					</li>
					<li>
						<a href="">WebRTC Testsuite</a>
						<ul class="hidden">
							<li>
								<a href="datachannel_test.html">Conformance Tests</a>
							</li>
							<li>
								<a href="datachannel_test_2peer.html">Interoperability Tests</a>
							</li>
						</ul>
					</li>
				</ul>
			</nav>
		</header>
		<br />
		<br />
		<br />
		<div id="bodyDiv">
			<div id="browserInformation"></div>
			<div id="mozMode"></div>
			<hr />
			<div id="testWrapper">
				<div id="testList">
					<strong>Select tests:</strong>
				</div>
				<br />
				<div align="center">
					<button id="btnTestUnselect">
						Unselect all
					</button>
					<button id="btnTestSelectOposite">
						Select opposite
					</button>
					<button id="btnTestLoad">
						Load settings
					</button>
					<button id="btnTestSave">
						Save settings
					</button>
					<button id="btnTestLoadPrevious">
						Load previous
					</button>
					<br/>
					<button id="btnTestStart">
						Start selected
					</button>
					<button id="btnTestStartAll">
						Start all
					</button>
				</div>
				<br />
				<hr/>
			</div>
			<div id="logWrapper">
				<div id="logShort"></div>

				<form >
					<progress id="progressBar" value="0" style="width: 100%"></progress>
				</form>
				<div id="testInformation"></div>
				<!-- Testharness logging -->
				<div id="log"></div>
				<br />
				<button id="btnShowLog">
					Show log
				</button>
				<button id="btnShowResults">
					Show results
				</button>
				<button onclick="window.location.reload();">
					Reload
				</button>
				<div id="logLong">
					<strong>Log:</strong>
					<br/>
				</div>
				<hr/>
			</div>
		</div>
		<footer>
			<p>
				&copy; 2014
			</p>
		</footer>
		</div>

		<!-- Testharness-->
		<script src="resources/testharness.js" type="text/javascript"></script>
		<script src="resources/testharnessreport.js" type="text/javascript"></script>
		<!-- Information and Connection -->
		<script src="lib/js/checkclient.js" type="text/javascript"></script>
		<script src="lib/js/datachannel_test/logging.js" type="text/javascript"></script>
		<script src="lib/js/datachannel_test/helpfunctions.js" type="text/javascript"></script>
		<script src="lib/js/datachannel_test/dctest_switcher.js" type="text/javascript"></script>
		<script src="lib/js/datachannel_test/dctest_connection.js" type="text/javascript"></script>
		<!-- Load Tests -->
		<script src="lib/js/datachannel_test/dctest_init.js" type="text/javascript"></script>
		<script src="lib/js/datachannel_test/dctest_label.js" type="text/javascript"></script>
		<script src="lib/js/datachannel_test/dctest_datachanneldict.js" type="text/javascript"></script>
		<script src="lib/js/datachannel_test/dctest_create.js" type="text/javascript"></script>
		<script src="lib/js/datachannel_test/dctest_id.js" type="text/javascript"></script>
		<script src="lib/js/datachannel_test/dctest_event.js" type="text/javascript"></script>
		<script src="lib/js/datachannel_test/dctest_send.js" type="text/javascript"></script>
		<script type="text/javascript">
            // Firefox crashes by sone Tests (>Nightly Version 36.0a doesn't crash)
            var mozDiv = document.getElementById("mozMode");
            var mozSafeMode = (!!window.mozRTCPeerConnection);
            if ((window.mozRTCPeerConnection)) {
                mozDiv.innerHTML = '<strong>Mozilla Safe Mode (to avoid crashes):<input type="checkbox" id="mozSafeModeChkBox" checked="true"></strong>';
                var mozChk = document.getElementById("mozSafeModeChkBox");
                mozChk.onclick = function() {
                    mozSafeMode = mozChk.checked;
                    console.log("mozSafeMode " + mozSafeMode);
                };
            }
            console.log("mozSafeMode " + mozSafeMode);
            getMethods(window);
            fillTestList();
		</script>
	</body>
</html>

