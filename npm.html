<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="description" content="WebRTC-DataChannel Testsuite">
		<meta name="author" content="Felix Weinrank">

		<title>WebRTC-DataChannel Testsuite</title>

		<!-- CSS Section -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="dist/custom.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">

		<!-- JAVSCRIPT Section -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
		<script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

	</head>

	<body>
		<nav class="navbar navbar-default navbar-static-top">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-brand">WebRTC Data-Channel Testsuite</a>
				</div>

				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li class="active">
							<a href="#">Netperfmeter</a>
						</li>
						<li>
							<a href="dc_test.html">Browser-Test</a>
						</li>
						<li>
							<a href="dc_colorchange.html">Gyrocolor</a>
						</li>
					</ul>
				</div>
			</div>

		</nav>

		<div class="container">
			<h1 id="link">Netperfmeter</h1>

			<div class="row">

				<div class="col-sm-4" id="dcControls">
					<h3>Controlpanel</h3>

					<button class="btn btn-primary btn-block btn-sm " disabled="disabled" id="npmcPing" onclick="ping()">
						<span class="glyphicon glyphicon-time" aria-hidden="true"></span> Ping Peer<span class="rtt"></span>
					</button>
					
					<button class="btn btn-success btn-block btn-sm " id="npmConnect" onclick="connect()">
						<span class="glyphicon glyphicon-transfer" aria-hidden="true"></span> Connect
					</button>

					<button class="btn btn-success btn-block btn-sm " id="npmRun" disabled="disabled" onclick="netPerfMeter()">
						<span class="glyphicon glyphicon-play" aria-hidden="true"></span> Start NPM
					</button>

					<button class="btn btn-primary btn-block btn-sm " id="npmLoadCookie" onclick="loadChannelSetting()">
						<span class="glyphicon glyphicon-floppy-open" aria-hidden="false"></span> Load settings<span class="rtt"></span>
					</button>

					<button class="btn btn-primary btn-block btn-sm " id="npmSaveCookie" onclick="saveChannelSettings()">
						<span class="glyphicon glyphicon-floppy-save" aria-hidden="false"></span> Save settings<span class="rtt"></span>
					</button>

				</div>

				<div class="col-sm-8">

					<h3>Peer- and Ice-Status</h3>

					<table class="table table-condensed">
						<thead>
							<tr>
								<th>name</th>
								<th>status</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>iceConnectionState</td>
								<td id="iceConnectionState">none</td>
							</tr>
							<tr>
								<td>iceGatheringState</td>
								<td id="iceGatheringState">none</td>
							</tr>
							<tr>
								<td>signalingState</td>
								<td id="signalingState">none</td>
							</tr>
						</tbody>
					</table>
				</div>

			</div>

			<table class="table table-condensed" id="dcStatusAnswerer">
				<thead>
					<tr>
						<th>id</th>
						<th>state</th>
						<th>label</th>
						<th>rx-pkts</th>
						<th>rx-bytes</th>
						<th>rate-curr</th>
						<th>rate-all</th>
						<th>action</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>

			<div class="row npmControlOfferer">
				<div class="col-lg-6 npmControl">
					<h3>Netperfmeter Control</h3>
					<table class="table" id="npmChannelParameters">
						<thead>
							<tr>
								<th style="width:5%"><span id="npmChannelParametersClone" class="glyphicon glyphicon-plus" aria-hidden="true" style="color:green;"></span></th>
								<th style="width:12%">pkt-count</th>
								<th style="width:12%">pkt-size</th>
								<th style="width:20%">reliable</th>
								<th style="width:12%">sleep (ms)</th>
								<th style="width:12%">delay (s)</th>
								<th style="width:12%">runtime (s)</th>
							</tr>
						</thead>
						<tbody>

							<tr id="npmChannelParametersC1" class="tr_clone">
								<td>
								<button type="button" name="toggleActive" class="btn btn-default btn-sm toggleActive" value="o1">
									1
								</button>
								</td>

								<td>
								<input class="form-control input-sm" name="paramPktCount" value="100" size="5">
								</td>
								<td>
								<input class="form-control input-sm" name="paramPktSize" value="200" size="5">
								</td>
								<td>
								<div class="input-group">
									<div class="input-group-btn">
										<button type="button" name="paramReliable" data-method="reliable" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown" aria-expanded="false">
											reliable <span class="caret"></span>
										</button>
										<ul class="dropdown-menu reliabilitySelect" role="menu">
											<li>
												<a href="#" data-method="reliable" data-shortdesc="reliable">reliable</a>
											</li>
											<li>
												<a href="#" data-method="maxRetransmit" data-shortdesc="retrans">max retransmissions</a>
											</li>
											<li>
												<a href="#" data-method="maxTimeout" data-shortdesc="timeout">max timeout (ms)</a>
											</li>
										</ul>
									</div><!-- /btn-group -->
									<input type="text" class="form-control input-sm" name="paramReliable" size="4" aria-label="..." value="1" disabled="disabled">
								</div><!-- /input-group --></td>
								<td>
								<input class="form-control input-sm" name="paramSleep" value="100" size="4">
								</td>
								<td>
								<input class="form-control input-sm" name="paramDelay" value="5" size="4">
								</td>
								<td>
								<input class="form-control input-sm" name="paramRuntime" value="30" size="4">
								</td>
							</tr>
						</tbody>
					</table>

				</div>
				<div class="col-lg-6">
					<h3>Data-Channel Status</h3>
					<table class="table table-condensed" id="dcStatusOfferer">
						<thead>
							<tr>
								<th>id</th>
								<th>status</th>
								<th>label</th>
								<th>tx-pkts</th>
								<th>tx-bytes</th>
								<th>action</th>
							</tr>
						</thead>
						<tbody>

						</tbody>
					</table>
				</div>
			</div>

			<div>
				<pre>
				
   Wellenlänge    +0 nm       +1 nm       +2 nm       +3 nm
----------------------------------------------------------------
    380 nm    0.0002000   0.0002280   0.0002610   0.0002990
    385 nm    0.0003960   0.0004550   0.0005250   0.0006040
    390 nm    0.0008000   0.0009160   0.0010500   0.0012000
    </pre>				
				

			</div>
		</div>

		<div class="footer text-center">
			&copy; Fachhochschule Münster - Labor für Netzwerkprogrammierung
		</div>
		</div>
		<!-- /container -->
		<script type='text/javascript' src='https://cdn.firebase.com/v0/firebase.js'></script>
		<script type='text/javascript' src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
		<script type='text/javascript' src="dist/npmc.js"></script>
		<script type='text/javascript' src="dist/npm.js"></script>

		<script type="text/javascript">
			jQuery(document).ready(function($) {
				// for ( i = 1; i < 5; i++) {
				// cloneFirstParametersRow();
				// }
			});

		</script>

	</body>
</html>
