<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="description" content="WebRTC-DataChannel Testsuite">
		<meta name="author" content="Felix Weinrank">

		<title>WebRTC-DataChannel Testsuite</title>

		<!-- CSS Section -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="dist/custom.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">

		<!-- JAVSCRIPT Section -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
		<script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

	</head>

	<body>
		<nav class="navbar navbar-default navbar-static-top">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-brand">WebRTC Data-Channel Testsuite</a>
				</div>

				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li class="active">
							<a href="#">Netperfmeter<span class="sr-only">(current)</span></a>
						</li>
						<li>
							<a href="dc_test.html">Browser-Tests</a>
						</li>
					</ul>
				</div>
			</div>

		</nav>

		<div class="container">

			<h1 id="link">Netperfmeter</h1>
			<div>Status of peer Connection:<span id="pcStatus"></span></div>
			<table class="table">
				<tr>
					<th>iceConnectionState</th>
					<th>iceGatheringState</th>
					<th>signalingState</th>
				</tr>
				<tr>
					<td id="iceConnectionState"></td>
					<td id="iceGatheringState"></td>
					<td id="signalingState"></td>
				</tr>
			</table>
			
			<button class="btn btn-default" id="startNPM" onclick="NetPerfMeter()">
				Start NPM
			</button>

			<div class="row controlContainer">
				<div class="col-md-6">
					<h3>Netperfmeter Control</h3>
					<table class="table" id="npmControl">
						<thead>
							<tr>
								<th class="col-md-1"><span id="npmControlAddChannel" class="glyphicon glyphicon-plus" aria-hidden="true" style="color:green;"></span></th>

								<th class="col-md-2">sleep (ms)</th>
								<th class="col-md-2">#-packets</th>
								<th class="col-md-2">packetsize</th>
								<th class="col-md-4">reliable</th>
							</tr>
						</thead>
						<tbody>

							<tr id="npmControlC1" class="tr_clone">
								<td>
								<button type="button" name="toggleActive" class="btn btn-default toggleActive" value="o1">
									1
								</button></td>
								<td>
								<input class="form-control" name="paramSleep" value="0" size="4">
								</td>
								<td>
								<input class="form-control" name="paramPktCount" value="100" size="4">
								</td>
								<td>
								<input class="form-control" name="paramPktSize" value="200" size="4">
								</td>
								<td>
								<div class="input-group">
									<div class="input-group-btn">
										<button type="button" name="paramReliable" data-method="reliable" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
											reliable <span class="caret"></span>
										</button>
										<ul class="dropdown-menu reliabilitySelect" role="menu">
											<li>
												<a href="#" data-method="reliable">reliable</a>
											</li>
											<li>
												<a href="#" data-method="maxRetransmit">maxRetransmit</a>
											</li>
											<li>
												<a href="#" data-method="maxTimeout">maxTimeout</a>
											</li>
										</ul>
									</div><!-- /btn-group -->
									<input type="text" class="form-control" name="paramReliable" size="4" aria-label="..." value="1" disabled="disabled">
								</div><!-- /input-group --></td>
							</tr>
						</tbody>
					</table>

				</div>
				<div class="col-md-6">
					<h3>Data-Channel Status</h3>
					<table class="table" id="dcStatus">
						<thead>
							<tr>
								<th>id</th>
								<th>status</th>
								<th>label</th>
								<th>pkts-rx</th>
								<th>pkts-tx</th>
								<th>action</th>
							</tr>
						</thead>
						<tbody>
							
						</tbody>
					</table>
				</div>
			</div>

			<div id="channelStatus"></div>
			<div id="log"></div>
		</div>

		<div class="footer text-center">
			&copy; Fachhochschule Münster - Labor für Netzwerkprogrammierung
		</div>
		</div>
		<!-- /container -->
		<script type='text/javascript' src='https://cdn.firebase.com/v0/firebase.js'></script>
		<script type='text/javascript' src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
		<script type='text/javascript' src="dist/npmc.js"></script>
		<script type='text/javascript' src="dist/npm.js"></script>

		<script type="text/javascript">
			jQuery(document).ready(function($) {
				for(i=1;i<5;i++) {
					addNpmControlRow();
				}
			});

		</script>

	</body>
</html>
